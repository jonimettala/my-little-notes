(this.webpackJsonpmylittlenotes=this.webpackJsonpmylittlenotes||[]).push([[0],{119:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n.n(c),i=n(11),o=n.n(i),r=(n(87),n(10)),s=n(25),l=n(12),j=n(157),d=(n(88),n(150)),b=n(153),u=n(155),h=n(121),O=n(156),f=n(4),x=Object(d.a)((function(){return{root:{flexGrow:1},title:{flexGrow:1}}}));function m(t){var e=t.showImportantOnly,n=t.setShowImportantOnly,c=x(),a=function(){n(!e)};return Object(f.jsx)("div",{className:c.root,children:Object(f.jsx)(b.a,{position:"static",children:Object(f.jsxs)(u.a,{children:[Object(f.jsx)(h.a,{component:s.b,to:"/",color:"inherit",variant:"h6",className:c.title,children:"My Little Notes"}),Object(f.jsxs)(l.b,{exact:!0,path:"/",children:[e?Object(f.jsx)(O.a,{onClick:a,color:"inherit",children:"Show Everything"}):Object(f.jsx)(O.a,{onClick:a,color:"inherit",children:"Show Important Only"}),Object(f.jsx)(O.a,{component:s.b,to:"/add",color:"inherit",children:"Add Note"})]}),Object(f.jsx)(l.b,{exact:!0,path:"/add",children:Object(f.jsx)(O.a,{component:s.b,to:"/",color:"inherit",children:"Cancel"})}),Object(f.jsx)(l.b,{exact:!0,path:"/note/:id",children:Object(f.jsx)(O.a,{component:s.b,to:"/",color:"inherit",children:"Cancel"})})]})})})}var p=n(22),g=n(54),v=n(39),w=n.n(v),y="/api/notes",S=function(){return w.a.get(y).then((function(t){return t.data}))},N=function(t){return w.a.get(y+"/".concat(t)).then((function(t){return t.data}))},C=function(t){return w.a.post(y,t).then((function(t){return t.data}))},F=function(t,e,n,c){return w.a.put(y+"/".concat(t),{title:e,content:n,important:c}).then((function(t){return t.data}))},I=function(t){return w.a.delete(y+"/".concat(t)).then((function(t){return t.data}))},k=n(55),D=n.n(k),L=n(158),E=n(159),T=n(160),B=Object(d.a)({root:{width:"100%",margin:10},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},timestamps:{fontSize:14,marginLeft:10},pos:{marginBottom:12},note:{whiteSpace:"pre-wrap"}}),P=function(t){var e=t.note,n=t.handleDelete,c=B();return Object(f.jsx)(j.a,{container:!0,item:!0,xs:12,lg:6,children:Object(f.jsxs)(L.a,{className:c.root,variant:"outlined",children:[Object(f.jsxs)(E.a,{children:[Object(f.jsx)(h.a,{variant:"h5",component:"h2",children:e.title}),Object(f.jsx)(h.a,{className:c.note,variant:"body2",component:"p",children:e.content})]}),Object(f.jsx)(T.a,{children:Object(f.jsxs)(j.a,{container:!0,direction:"column",children:[Object(f.jsxs)(h.a,{className:c.timestamps,color:"textSecondary",gutterBottom:!0,children:["added: ",D()(e.added).format("llll"),null!==e.updated?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("br",{}),"modified: ",D()(e.updated).format("llll")]}):Object(f.jsx)(f.Fragment,{})]}),Object(f.jsxs)(j.a,{container:!0,children:[Object(f.jsx)(O.a,{component:s.b,to:"/note/".concat(e.id),size:"small",children:"Edit"}),Object(f.jsx)(O.a,{onClick:function(){return n(e.id)},size:"small",children:"Delete"})]})]})})]})})},z=function(t){var e=t.important,n=Object(c.useState)([]),a=Object(r.a)(n,2),i=a[0],o=a[1],s=Object(c.useState)(!0),l=Object(r.a)(s,2),j=l[0],d=l[1],b=Object(c.useState)(!1),u=Object(r.a)(b,2),h=u[0],O=u[1];Object(c.useEffect)((function(){S().then((function(t){o(t),d(!1)})).catch((function(t){d(!1),500===t.response.status&&O(!0)}))}),[]);var x=function(t){window.confirm("Are you sure you want to delete the note?")&&I(t).then((function(){var e,n=i,c=0,a=Object(g.a)(n);try{for(a.s();!(e=a.n()).done;){e.value.id===t&&n.splice(c,1),c++}}catch(r){a.e(r)}finally{a.f()}o(Object(p.a)(n))})).catch((function(e){if(500===e.response.status)window.alert("Failed to reach the server");else{window.alert("The note has been already deleted");var n,c=i,a=0,r=Object(g.a)(c);try{for(r.s();!(n=r.n()).done;){n.value.id===t&&c.splice(a,1),a++}}catch(e){r.e(e)}finally{r.f()}o(Object(p.a)(c))}}))};if(j)return Object(f.jsx)("p",{children:"Loading"});if(h)return Object(f.jsx)("p",{children:"Failed to reach the server."});if(0===i.length)return Object(f.jsx)("p",{children:"There no notes yet!"});if(!0===e){var m=i.filter((function(t){return!0===t.important}));return 0===m.length?Object(f.jsx)("p",{children:"No important notes."}):m.map((function(t){return Object(f.jsx)(P,{note:t,handleDelete:x},t.id)}))}return i.map((function(t){return Object(f.jsx)(P,{note:t,handleDelete:x},t.id)}))},G=n(162),V=n(161),A=n(163),J=n(73),M=n.n(J),W=n(72),q=n.n(W),H=n(71),K=n.n(H),Q=Object(d.a)({root:{flexGrow:1},field:{margin:10,display:"block"},button:{margin:10}}),R=function(t){var e=t.editing,n=Object(l.g)().id,a=Q(),i=Object(c.useState)(""),o=Object(r.a)(i,2),s=o[0],d=o[1],b=Object(c.useState)(""),u=Object(r.a)(b,2),h=u[0],x=u[1],m=Object(c.useState)(!1),p=Object(r.a)(m,2),g=p[0],v=p[1],w=Object(c.useState)(!1),y=Object(r.a)(w,2),S=y[0],I=y[1],k=Object(c.useState)(!1),D=Object(r.a)(k,2),L=D[0],E=D[1],T=Object(c.useState)(!1),B=Object(r.a)(T,2),P=B[0],z=B[1],J=Object(c.useState)({}),W=Object(r.a)(J,2),H=W[0],R=W[1],U=Object(c.useState)(e),X=Object(r.a)(U,2),Y=X[0],Z=X[1],$=Object(c.useState)(!1),_=Object(r.a)($,2),tt=_[0],et=_[1],nt=Object(c.useState)(!1),ct=Object(r.a)(nt,2),at=ct[0],it=ct[1];e&&Object(c.useEffect)((function(){N(n).then((function(t){R(t),d(t.title),x(t.content),v(t.important),Z(!1)})).catch((function(t){Z(!1),et(!0),500===t.response.status&&it(!0)}))}),[]);return P?Object(f.jsx)(l.a,{to:"/"}):at?Object(f.jsx)("p",{children:"Failed to reach the server."}):Y?Object(f.jsx)("p",{children:"Loading"}):tt?Object(f.jsx)("p",{children:"Note not found"}):Object(f.jsx)(j.a,{container:!0,item:!0,xs:12,children:Object(f.jsxs)("form",{className:a.root,noValidate:!0,autoComplete:"off",onSubmit:function(t){t.preventDefault(),I(!1),E(!1),s||h?e?F(n,s,h,g).then((function(){z(!0)})).catch((function(){window.alert("Failed to reach the server. Please try again later.")})):C({title:s,content:h,important:g}).then((function(){z(!0)})).catch((function(){window.alert("Failed to reach the server. Please try again later.")})):(I(!0),E(!0))},children:[Object(f.jsx)(G.a,{defaultValue:H.title,onChange:function(t){d(t.target.value)},className:a.field,label:"Title",variant:"outlined",fullWidth:!0,error:S}),Object(f.jsx)(G.a,{defaultValue:H.content,onChange:function(t){x(t.target.value)},className:a.field,label:"Content",variant:"outlined",multiline:!0,rows:"6",fullWidth:!0,error:L}),Object(f.jsx)(V.a,{className:a.button,onChange:function(){v(!g)},control:Object(f.jsx)(A.a,{icon:Object(f.jsx)(K.a,{}),checkedIcon:Object(f.jsx)(q.a,{}),name:"Important",checked:g}),label:"Important"}),Object(f.jsx)(O.a,{className:a.button,type:"submit",variant:"contained",endIcon:Object(f.jsx)(M.a,{}),children:"Save"})]})})},U=function(){var t=Object(c.useState)(!1),e=Object(r.a)(t,2),n=e[0],a=e[1];return Object(f.jsxs)(s.a,{children:[Object(f.jsx)(m,{showImportantOnly:n,setShowImportantOnly:a}),Object(f.jsx)(j.a,{container:!0,direction:"column",children:Object(f.jsxs)(j.a,{container:!0,children:[Object(f.jsx)(j.a,{item:!0,xs:!1,sm:1,md:2}),Object(f.jsx)(j.a,{item:!0,container:!0,xs:12,sm:10,md:8,children:Object(f.jsxs)(l.d,{children:[Object(f.jsx)(l.b,{exact:!0,path:"/",children:Object(f.jsx)(z,{important:n})}),Object(f.jsx)(l.b,{exact:!0,path:"/add",children:Object(f.jsx)(R,{editing:!1})}),Object(f.jsx)(l.b,{exact:!0,path:"/note/:id",children:Object(f.jsx)(R,{editing:!0})})]})}),Object(f.jsx)(j.a,{item:!0,xs:!1,sm:1,md:2})]})})]})},X=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,165)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,i=e.getLCP,o=e.getTTFB;n(t),c(t),a(t),i(t),o(t)}))};o.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(U,{})}),document.getElementById("root")),X()},87:function(t,e,n){},88:function(t,e,n){}},[[119,1,2]]]);
//# sourceMappingURL=main.c7e86ac7.chunk.js.map